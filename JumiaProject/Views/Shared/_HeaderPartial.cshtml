@* @model HomeVM *@
<div class="header col-12">
	<div class="flash-sale col-12">
		<img src="/images/home/flash-sale.png" class="col-10" />
	</div>

	<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm p-0 col-12">
		<div class="container col-12">
			<!-- logo -->
			<a class="navbar-brand col-2 d-flex" asp-controller="Home" asp-action="Index">
				<img src="~/images/home/logo.png" alt="Jumia" class="jumia-logo">
			</a>

			<div class="collapse navbar-collapse" id="navbarContent">
				<!-- search -->
				<div class="d-flex mx-3 flex-grow-1">
					<div class="input-group">
						<input type="text" id="search-key" name="query" class="form-control" placeholder="🔍 Search products">
						<div>
							<button class="search" onclick="search()">Search</button>
						</div>
					</div>
				</div>

				@* <form asp-controller="Home" asp-action="Search">
            @*     <p> *@
				@*         <label>Title: <input id="search-key" type="text" name="searchKey"/></label> *@
				@*         <input type="submit" value="Filter" /> *@
				@*     </p> *@
				@* </form> *@

				<!-- icons -->
				<ul class="navbar-nav">
					<li class="nav-item mx-2">
						<div class="nav-link">
							<div class="nav-button">
								@* @if ((User.Identity.IsAuthenticated)) *@
								@* { *@
									<div class="hover-orange">
										<i class="far fa-user fa-lg"></i>
										<button class="nav d-none d-lg-inline" onclick="showList()">Account</button>
									</div>
									<div id="dropdownList" class="list">
										<div class="sign-in-div">
											<button class="sign-in-button">Sign In</button>
										</div>
										<div class="icon-list-hover">
											<i class="fa-regular fa-user"></i>
											<a href="" class="icon-list">My Account</a>
										</div>
										<div class="icon-list-hover">
										<i class="fa-solid fa-box"></i>
											<a href="" class="icon-list">Order</a>
										</div>
										<div class="icon-list-hover">
											<i class="fa-regular fa-heart"></i>
											<a href="" class="icon-list">Wishlist</a>
										</div>
									</div>

								@* } *@
								@* else *@
								@* { *@
									<div class="hover-orange">
										<i class="far fa-user fa-lg"></i>
										<button class="nav d-none d-lg-inline" onclick="showList()">Account</button>
									</div>
									<div id="dropdownList" class="list">
										<div class="icon-list-hover">
											<i class="fa-regular fa-user"></i>
											<a href="" class="icon-list">My Account</a>
										</div> 
										<div class="icon-list-hover">
										<i class="fa-solid fa-box"></i>
											<a href="" class="icon-list">Order</a> 
										</div> 
										<div class="icon-list-hover">
											<i class="fa-regular fa-envelope"></i> 
											<a href="" class="icon-list">Inbox</a> 
										</div> 
										<div class="icon-list-hover">
											<i class="fa-regular fa-heart"></i> 
											<a href="" class="icon-list">Wishlist</a> 
										</div> 
										<div class="icon-list-hover">
											<i class="fa-regular fa-ticket"></i> 
											<a href="" class="icon-list">Vouchers</a> 
										</div>

									</div>
								@* } *@
								</div>
							</div>
					</li>
				</ul>
						<div class="nav-item mx-2 hover-orange">
							<div class="hover-orange nav-link" href="">
								<i class="far fa-question-circle fa-lg"></i>
								<button class="nav d-none d-lg-inline">Help</button>
							</div>
						</div>
						<div class="nav-item mx-2 hover-orange">
							<div class="hover-orange nav-link " href="">
								<i class="fas fa-shopping-cart fa-lg" style="fill: #313133; -webkit-text-stroke: 1px black;"></i>
								<button class="nav d-none d-lg-inline">Cart</button>
							</div>
						</div>
				</div>
			</div>
		</nav>
	</div>


	<script>

		var products;
		function search(){
			console.log("search");
		var searchkey = document.getElementById("search-key").value;
		$.ajax({
			type: "get",
		url: "https://localhost:7257/Home/Search",
		data: {
			searchKey: searchkey
				},
		dataType: "json",
		success: function(data){
			products = data.Products;
				   // if products is null
				},
		error: function(err){
			console.log(err);
				}
			})

		}



		function showList(){
			document.getElementById("dropdownList").classList.toggle("show");
		}

		window.onclick = function(event) {
		  if (!event.target.matches('.nav')) {
			var dropdowns = document.getElementsByClassName("list");
		var i;
		for (i = 0; i < dropdowns.length; i++) {
			  var openDropdown = dropdowns[i];
		if (openDropdown.classList.contains('show')) {
			openDropdown.classList.remove('show');
			  }
			}
		  }
		}


	</script>










